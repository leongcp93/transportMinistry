<body>
  <nav class="navbar navbar-light bg-light">
    <div class="container">
      <div id="manage">
        <a class="nav-link active" routerLink="/managing-people">People</a>
        <a class="nav-link" routerLink="/managing-transport">Transport</a>
      </div>
      <div>
        <a class="nav-link" (click)="this.ms.logout()" routerLink="/home">
          <i class="fas fa-sign-out-alt"></i> Logout</a>
      </div>
    </div>
  </nav>

  <header class="profile-design" [formGroup]="managingForm">
    <div class="special-container">
      <input #filterInput type="text" formControlName="name" 
          class="col-md-4  selection-design" (keyup)="onName()"
          placeholder="Search passenger's/driver's name ...">
      
          <a class="button" (click)="popUp()">Check List
        <i class="fas fa-tasks"></i>
      </a>
    </div>
    <br>
    <br>
  </header>

  <div class="container">
    <p *ngIf="this.ms.members.length == 0 && !this.ms.ticked">
      Please
      <a routerLink="/home">login</a> first
    </p>
    <p *ngIf="this.ms.members.length == 0 && this.ms.ticked">You have selected all members</p>
  </div>


  <div *ngFor="let member of members">
    <div class="profile-design">
      <div class="special-container">
        <div *ngIf="member.seats > 0">
          Driver: {{member.name}}
          <br> Suburb: {{member.suburb}}
          <br> Seats: {{member.seats}}
        </div>
        <div *ngIf="member.seats == 0">
          Passenger: {{member.name}}
          <br> Suburb: {{member.suburb}}
        </div>
      </div>
      <hr>

      <div class="buttons">
        <div>
          <a (click)="mark(member)">
            <i class="fas fa-car"></i> Add
          </a>
        </div>
        <div>
          <a routerLink="/edit-page" (click)="editPerson(member)">
            <i class="fa fa-edit"></i> Edit
          </a>
        </div>
        <div>
          <a (click)="delPerson(member.name)">
            <i class="fa fa-trash"></i> Delete
          </a>
        </div>
      </div>
    </div>
  </div>


  <br>
  <br>
  <br>
  <div *ngIf="displayChecklist" class="overlay">
    <div class="popup">
      <div class="container">
        <h3>Did I miss any one?</h3>
        <br>
        <a class="close" (click)="closePopup()">&times;</a>
        <b>Drivers({{this.ms.drivers.length}}):</b>
        <br>
        <p *ngIf="this.ms.drivers.length==0">You haven't selected any driver</p>
        <div class="content" *ngFor="let driver of this.ms.drivers">
          {{driver.name}}
          <button class="btn btn-link" (click)="delAlloc(driver)">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <b>Passengers({{this.ms.passengers.length}}): </b>
        <br>
        <p *ngIf="this.ms.passengers.length==0">You haven't selected any passenger</p>
        <div class="content" *ngFor="let passenger of this.ms.passengers">
          {{passenger.name}}
          <button class="btn btn-link" (click)="delAlloc(passenger)">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <br>
        <p *ngIf="this.ms.totalSeats < this.ms.passengers.length">
          <b>*NOTE*:</b> there are not enough seats</p>
      </div>
    </div>
  </div>
</body>